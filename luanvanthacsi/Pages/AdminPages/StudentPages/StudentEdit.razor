@using luanvanthacsi.Data.Entities;
<Form @ref="form"
      Model="EditModel" LabelColSpan="8"
      WrapperColSpan="16"
      OnFinish="OnFinish"
      OnFinishFailed="OnFinishFailed">
    <Template style="height:90%">
        <FormItem Label="Mã học viên" Required>
            <Input @bind-Value="@context.Code" ReadOnly />
        </FormItem>
        <FormItem Label="Tên học viên">
            <Input @bind-Value="@context.Name" />
        </FormItem>
        <FormItem Label="Email">
            <Input @bind-Value="@context.Email" />
        </FormItem>
        <FormItem Label="Số điện thoại">
            <Input @bind-Value="@context.PhoneNumber" />
        </FormItem>
        <FormItem Label="Ngày sinh">
            <DatePicker @bind-Value="@context.DateOfBirth" Format="dd/MM/yyyy" Style="width: 301px" DisabledDate="@DisabledDate"></DatePicker>
        </FormItem>
        <FormItem Label="Chuyên ngành">
            <Select TItem="Specialized" TItemValue="string" DataSource="specializedList"
                    EnableSearch Placeholder="Chọn chuyên ngành"
                    @bind-Value="@context.SpecializedId"
                    ValueName="@nameof(Specialized.Id)"
                    LabelName="@nameof(Specialized.Name)">
            </Select>
            </FormItem>
        <FormItem Label="Tên đề tài">
            <TextArea @bind-Value="@context.TopicName" MaxLength="200" ShowCount></TextArea>
        </FormItem>
        <FormItem Label="Hướng dẫn 1">
            <Select TItem="Scientist" TItemValue="string" DataSource="scientistList"
                    EnableSearch Placeholder="Chọn hướng dẫn 1"
                    @bind-Value="@context.InstructorIdOne"
                    ValueName="@nameof(Scientist.Id)"
                    LabelName="@nameof(Scientist.Name)">
            </Select>
        </FormItem>
        <FormItem Label="Hướng dẫn 2">
            <Select TItem="Scientist" TItemValue="string" DataSource="scientistList"
                    EnableSearch Placeholder="Chọn hướng dẫn 2"
                    @bind-Value="@context.InstructorIdTwo"
                    ValueName="@nameof(Scientist.Id)"
                    LabelName="@nameof(Scientist.Name)">
            </Select>
        </FormItem>

        <FormItem WrapperColOffset="8" WrapperColSpan="16">
            <Button Type="@ButtonType.Primary" HtmlType="submit">
                Lưu
            </Button>
            <Popconfirm Placement="@Placement.LeftBottom"
                        OnConfirm="Reset"
                        OkText="Đồng ý"
                        CancelText="Hủy">
                <ChildContent>
                    <Button Type="@ButtonType.Primary" Danger>Hủy</Button>
                </ChildContent>
                <TitleTemplate>
                    Hủy sẽ xóa dữ liệu bạn đang thao tác. bạn có chắc muốn hủy không?
                </TitleTemplate>
            </Popconfirm>
        </FormItem>
    </Template>
</Form>
